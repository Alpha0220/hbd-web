<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Button Game</title>
    <style>
        body {
            background: linear-gradient(to right, #ff00aa, #673dff);
            display: flex;
            flex-direction: column;
            /* justify-content: center; */
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
            text-align: center;
        }

        .button-container {
            position: relative;
            margin-top: 20px;
        }

        .ok-button,
        .cancel-button {
            border: none;
            padding: 10px 20px;
            font-size: 1.2rem;
            cursor: pointer;
            border-radius: 5px;
            position: relative;
            left: -10px;
        }

        .ok-button {
            background-color: #673dffb5;
            color: white;
        }

        .ok-button:hover {
            background-color: #4d1cff;
        }

        .cancel-button {
            position: absolute;
            background-color: #ff00aa9d;
            color: white;
            transition: top 0.3s, left 0.3s, width 0.3s ease, height 0.3s ease;
            /* width: 120px;
            height: 45px; */
            margin-left: 20px;
            position: relative;
        }
    </style>
</head>

<body>
    <audio id="bg-music">
        <source src="music/Blue-Yung-Kai.mp3" type="audio/mpeg">
    </audio>

    <div style="margin-bottom: 20px; position: relative; margin-top:250px ; ">
        <img src="img/thanakrit03.png" alt="" style="width: 700px;">
    </div>
    <div class="button-container">
        <button class="ok-button" onclick="completeLove()">‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏Å‡∏Å</button>
        <button class="cancel-button" id="cancelButton" onmouseover="moveCancelButton()">‡∏£‡∏±‡∏Å‡πÅ‡∏Ñ‡πà‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á‡∏á</button>
    </div>

    <script>
        function moveCancelButton() {
            let cancelButton = document.getElementById("cancelButton");
            let newX = Math.random() * 200 - 10;
            let newY = Math.random() * 400 - 10;
            cancelButton.style.top = newY + "%";
            cancelButton.style.left = newX + "%";
        }

        function completeLove() {
            let audio = document.getElementById("bg-music");

            document.body.innerHTML = `
        <h1 style="color:white; font-size:3rem; font-family: 'Mindful Blazer', cursive; margin-top:100px; opacity: 0; transition: opacity 2s;" id="love-text">
            ‡πÇ‡∏≠‡πâ!! ‡∏û‡∏±‡∏ä‡∏£‡∏µ‡∏£‡∏±‡∏Å‡∏ò‡∏ô‡∏Å‡∏§‡∏ï ‡∏°‡∏≤‡∏Å‡∏Å‡∏Å‡∏´‡∏£‡∏≠‡πÄ‡∏ô‡∏µ‡πà‡∏¢
        </h1>
        <h2 style="color:white; font-size:3rem; opacity: 0; transition: opacity 3s;" id="love-text-2">
            ‡∏ò‡∏ô‡∏Å‡∏§‡∏ï ‡∏Å‡πá‡∏£‡∏±‡∏Å‡∏û‡∏±‡∏ä‡∏£‡∏µ‡∏°‡∏≤‡∏Å‡πÜ‡∏ô‡∏∞ ‚ù§Ô∏è
        </h2>
        <img src="img/kiss.png" alt="Love Image" style="margin-bottom:50px; position: relative; margin-top:20px; width: 350px; opacity: 0; transition: opacity 4s;" id="love-img">
        <h2 style="color:white; font-size:2.5rem; opacity: 0; transition: opacity 5s;" id="love-text-3">
            ‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÜ‡∏ô‡∏∞‡∏Ñ‡∏±‡∏öü´∂üèª
        </h2>
    `;

            document.body.appendChild(audio);
            audio.play().catch(error => console.log("Autoplay ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å:", error));

            // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏è
            setTimeout(() => document.getElementById("love-text").style.opacity = 1, 500);
            setTimeout(() => document.getElementById("love-text-2").style.opacity = 1, 1000);
            setTimeout(() => document.getElementById("love-img").style.opacity = 1, 1500);
            setTimeout(() => document.getElementById("love-text-3").style.opacity = 1, 2000);

            // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ö‡∏ö‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤
            setTimeout(() => {
                window.location.href = 'startpage.html';
            }, 7000); // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å 7 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
        }



        document.addEventListener("DOMContentLoaded", function () {
            var audio = document.getElementById("bg-music");

            // ‡πÇ‡∏´‡∏•‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏à‡∏≤‡∏Å sessionStorage
            var savedTime = sessionStorage.getItem("audioTime");
            if (savedTime) {
                audio.currentTime = parseFloat(savedTime);
            }

            // ‡∏ñ‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏¢‡∏π‡πà ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠
            if (sessionStorage.getItem("isPlaying") === "true") {
                audio.play().catch(error => console.log("Autoplay ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å:", error));
            }

            // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏û‡∏•‡∏á‡∏Ç‡∏ì‡∏∞‡πÄ‡∏•‡πà‡∏ô
            audio.addEventListener("timeupdate", function () {
                sessionStorage.setItem("audioTime", audio.currentTime);
            });

            // ‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Cake Page
            document.getElementById("next-page-btn").addEventListener("click", function () {
                // ‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏û‡∏•‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
                audio.pause();
                sessionStorage.setItem("isPlaying", "false");
                sessionStorage.removeItem("audioTime"); // ‡∏•‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏û‡∏•‡∏á

                // ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Cake Page
                window.location.href = "startpage.html";
            });
        });
    </script>
</body>

</html>